<div class="private-portal-wrapper">
  <div class="container">
    <p class="mb-3 mt-3">
      <a href="/portal/private/users" class="breadcrumb-link">
        < Back to user list
      </a>
    </p>

    {{ if .errors }}
      {{ range $key, $errs := .errors }}
        <div class="alert alert-warning cart-error" role="alert">
          <i class="tyk-icon tykon tykon-warning "></i>
          <div class="alert__content">
            <strong>{{$key}}</strong>
            <ul>
              {{ range $errs }}
                <li>{{.}}</li>
              {{ end }}
            </ul>
          </div>
        </div>
      {{ end }}
    {{ end }}

    <form action="edit" method="post" id="user-edit">
      {{ if .error }}
        <div class="alert alert-danger" role="alert">
          <i class="tyk-icon tykon tykon-warning "></i>
          <div class="alert__content">{{ .error }}</div>
        </div>
      {{ end }}
      <div class="apps-wrapper__card-section mt-5">
        <h1 class="heading-large mb-4">Developer details</h1>

        <div class="card p-0 mb-4">
          <div class="card-footer m-0 p-4">
            <div class="row mb-4">
              <div class="col-6">
                <label class="heading-small text-default">Name:</label>
                <input type="text" class="form-control" name="first"  value="{{.user.First}}" placeholder="Name" required autofocus />
              </div>
              <div class="col-6">
                <label class="heading-small text-default">Last name:</label>
                <input type="text" class="form-control" name="last" value="{{.user.Last}}" placeholder="Last name" required autofocus/>
              </div>
            </div>
            <div class="row mb-4">
              <div class="col-6">
                <label class="heading-small text-default">Email:</label>
                <input class="form-control" name="email" value="{{.user.Email}}" placeholder="Email" required disabled/>
              </div>
              <div class="col-6">
                {{ if .roles }}
                  <label class="heading-small text-default">Role:</label>
                  <select class="form-control" id="selectRolesId" name="role" required>
                    {{ range $role := .roles }}
                        <option value="{{ $role.ID }}">{{ $role.DisplayName }}</option>
                    {{ end }}
                  </select>
                {{ end }}
              </div>
            </div>
            {{ render "role_detail" . }}
            <div class="mb-4 col-6">
              <label class="heading-small text-default">Teams:</label>
              <p class="text-regular-14">Select all the teams this user should be part of.</p>
              {{ range $team := .teams }}
                {{ $checked := false }}
                {{ range $ut := $.user.Teams }}
                  {{ if eq $ut.ID $team.ID }}
                    {{ $checked = true }}
                  {{ end }}
                {{ end }}
                <div class="form-check mb-2">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    value="{{ $team.ID }}"
                    id="team-{{ $team.ID }}"
                    name="teams"
                    {{ if $checked }}checked{{ end }}
                  />
                  <label class="form-check-label text-regular-14" for="team-{{ $team.ID }}">
                    {{ $team.Name }}
                  </label>
                </div>
              {{ end }}
            </div>
          </div>
        </div>
        <div class="form-group text-right mt-4">
          <a id="user_invite_cancel" class="btn btn-secondary-outline" href="/portal/private/users">Cancel</a>
          <input type="submit" name="submit" class="btn btn-primary" value="Save changes" />
        </div>
      </div>
    </form>
  </div>
</div>