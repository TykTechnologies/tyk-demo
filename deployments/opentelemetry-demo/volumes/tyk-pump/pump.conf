{
  "analytics_storage_type": "redis",
  "analytics_storage_config": {
    "type": "redis",
    "host": "tyk-redis",
    "port": 6379,
    "hosts": null,
    "username": "",
    "password": "",
    "database": 0,
    "optimisation_max_idle": 100,
    "optimisation_max_active": 100,
    "enable_cluster": false
  },
  "purge_delay": 2,
  "health_check_endpoint_name": "health",
  "health_check_endpoint_port": 8084,
  "pumps": {
    "mongo-pump-aggregate": {
      "name": "mongo-pump-aggregate",
      "meta": {
        "mongo_url": "mongodb://tyk-mongo:27017/tyk_analytics",
        "use_mixed_collection": false
      }
    },
    "mongo-pump-selective": {
      "name": "mongo-pump-selective",
      "meta": {
        "mongo_url": "mongodb://tyk-mongo:27017/tyk_analytics",
        "use_mixed_collection": false
      }
    },
    "prometheus": {
      "name": "prometheus",
      "meta": {
        "listen_address": "0.0.0.0:8083",
        "path": "/metrics",
        "custom_metrics":[
          {
            "name":"tyk_http_status_per_org_and_app",
            "description":"HTTP status codes per API by portal app and org",
            "metric_type":"counter",
            "labels":["response_code","api_id","portal_org","portal_app"]
          },
          {
            "name":"tyk_http_status_per_path_and_org_and_app",
            "description":"HTTP status codes per API path and method by portal app and org",
            "metric_type":"counter",
            "labels":["response_code","api_id","portal_app","portal_org", "key_id", "path", "method"]
          },
          {
            "name": "tyk_latency_per_org_and_app",
            "help": "Latency of API requests by portal app and org",
            "metric_type": "histogram",
            "labels": ["portal_org", "portal_app", "api_id", "type"]
          }
        ]
      }
    }
  },
  "uptime_pump_config": {
    "collection_name": "tyk_uptime_analytics",
    "mongo_url": "mongodb://tyk-mongo:27017/tyk_analytics",
    "max_insert_batch_size_bytes": 500000,
    "max_document_size_bytes": 200000
  },
  "dont_purge_uptime_data": false,
  "statsd_connection_string": "graphite:8125"
}